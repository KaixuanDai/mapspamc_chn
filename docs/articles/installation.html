<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="mapspamc">
<title>Installation • mapspamc</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Installation">
<meta property="og:description" content="mapspamc">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">mapspamc</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/installation.html">Installation</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <li class="dropdown-item">
      <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-background">Background</a>
      <div class="dropdown-menu" aria-labelledby="dropdown-background">
        <a class="dropdown-item" href="../articles/crop_distribution_maps.html">Crop distribution maps</a>
        <a class="dropdown-item" href="../articles/model_description.html">Model description</a>
        <a class="dropdown-item" href="../articles/input_data.html">Input data</a>
        <a class="dropdown-item" href="../articles/appendix.html">Appendix</a>
      </div>
    </li>
    <li class="dropdown-item">
      <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-preparation">Preparation</a>
      <div class="dropdown-menu" aria-labelledby="dropdown-preparation">
        <a class="dropdown-item" href="../articles/input_data_collection.html">Collect input data</a>
        <a class="dropdown-item" href="../articles/country_examples.html">Country examples</a>
      </div>
    </li>
    <li class="dropdown-item">
      <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-run-mapspamc">Run mapspamc</a>
      <div class="dropdown-menu" aria-labelledby="dropdown-run-mapspamc">
        <a class="dropdown-item" href="../articles/design.html">0. Design and process flow</a>
        <a class="dropdown-item" href="../articles/model_setup.html">1. Model setup</a>
        <a class="dropdown-item" href="../articles/preprocessing_subnational_statistics.html">2.1. Pre-processing - subnational statistics</a>
        <a class="dropdown-item" href="../articles/preprocessing_spatial_data.html">2.2. Pre-processing - spatial data</a>
        <a class="dropdown-item" href="../articles/preprocessing_cropland.html">2.3. Pre-processing - cropland</a>
        <a class="dropdown-item" href="../articles/preprocessing_irrigated_area.html">2.4. Pre-processing - irrigated area</a>
        <a class="dropdown-item" href="../articles/model_preparation.html">3. Model preparation</a>
        <a class="dropdown-item" href="../articles/run_model.html">4. Run model</a>
        <a class="dropdown-item" href="../articles/post_processing.html">5. Post-processing</a>
        <a class="dropdown-item" href="../articles/model_validation.html">6. Model validation</a>
      </div>
    </li>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/michielvandijk/mapspamc">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Installation</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/michielvandijk/mapspamc/blob/HEAD/vignettes/installation.Rmd" class="external-link"><code>vignettes/installation.Rmd</code></a></small>
      <div class="d-none name"><code>installation.Rmd</code></div>
    </div>

    
    
<p>To run <code>mapspamc</code>, several software packages need to be
installed. Below, we provide a brief description on how to install the
software. Note that GAMS is a commercial product, which requires a
licence. Also note that the scripts and implementation of the model have
been developed, implemented and tested using a Windows environment. As
all the software is cross platform it should be possible to run
<code>mapspamc</code> on Mac and Linux but this was not tested.</p>
<div class="section level2">
<h2 id="installing-r-and-rstudio">Installing R and RStudio<a class="anchor" aria-label="anchor" href="#installing-r-and-rstudio"></a>
</h2>
<p>All the pre- and post-processing of the data is done in R <span class="citation">(R Core Team 2022)</span>. R is a free and open source
software environment for statistical computing and graphics supported by
the R Foundation for Statistical Computing. To run <code>mapspamc</code>
one needs to install R and RStudio, a graphical user interface for R.
Both pieces of software are available for various operating systems. The
package was developed and tested with R version 4.2.1. If you are not
familiar with R, please have a look at the online book <a href="https://r4ds.had.co.nz" class="external-link">R for Data Science</a> by Hadley Wickham
and Garrett Grolemund, which is probably the best book to get
started.</p>
<ol style="list-style-type: decimal">
<li><a href="https://cran.r-project.org/" class="external-link">Download and install
R</a></li>
<li>
<a href="https://rstudio.com/products/rstudio/download/" class="external-link">Download
and install Rstudio</a>.</li>
</ol>
</div>
<div class="section level2">
<h2 id="installing-gams">Installing GAMS<a class="anchor" aria-label="anchor" href="#installing-gams"></a>
</h2>
<p>The downscaling algorithms in <code>mapspamc</code> are solved using
the <a href="https://www.gams.com/" class="external-link">General Algebraic Modeling
System</a> (GAMS), which is modelling system and language designed for
mathematical optimization. The GAMS system and solvers can be downloaded
from the GAMS website. Unfortunately, one needs a GAMS Base Module
licence plus additional CONOPT4 and CPLEX solver licence to run
<code>mapspamc</code>.</p>
<ul>
<li><a href="https://www.gams.com/download" class="external-link">Download and install
GAMS</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="r-packages">R packages<a class="anchor" aria-label="anchor" href="#r-packages"></a>
</h2>
<div class="section level3">
<h3 id="installing-mapspamc">Installing <code>mapspamc</code><a class="anchor" aria-label="anchor" href="#installing-mapspamc"></a>
</h3>
<p>R packages are pieces of bundled R code, frequently including scripts
from other languages (e.g. C or C++) to speed up calculations or
interface with other software (e.g. GAMS). Packages can be easily
installed by using the command <code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code> in R or
by clicking on the <strong>package</strong> tab in RStudio. Nearly all
packages are directly downloaded from CRAN, the R package
repository.</p>
<p>To install <code>mapspamc</code>, which is not on CRAN, one first has
to install the <strong>remotes</strong> package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"michielvandijk/mapspamc"</span><span class="op">)</span></span></code></pre></div>
<p>To interface between R and GAMS the GDXRRW package is required.
Unfortunately, this package is also not available on CRAN and therefore
has to be installed manually. The package can be found <a href="https://github.com/GAMS-dev/gdxrrw" class="external-link">here</a>, which also presents
instructions on how to install the package. Several functions in
<code>mapspamc</code> use GDXRRW to read and save GAMS gdx files and
check whether the package and GAMS are installed.</p>
</div>
<div class="section level3">
<h3 id="essential-packages">Essential packages<a class="anchor" aria-label="anchor" href="#essential-packages"></a>
</h3>
<p>Apart from mapspam and GDXRRW, several R packages are required to run
<code>mapspamc</code> scripts:</p>
<ul>
<li><p><a href="https://cran.r-project.org/web/packages/tidyverse/index.html" class="external-link">tidyverse</a>
<span class="citation">(Wickham et al. 2019)</span> is the name for a
set of packages that work in harmony to facilitate data preparation and
processing, most importantly dplyr, purrr, tidyr and ggplot2. Some of
them are used by <code>mapspamc</code> and will be installed
automatically when the package is installed for the first time and were
not installed before.</p></li>
<li><p><a href="https://cran.r-project.org/web/packages/sf/index.html" class="external-link">sf
package</a> <span class="citation">(Pebesma 2018)</span> is a package to
process spatial data in vector (polygon) format.</p></li>
<li><p><a href="https://cran.r-project.org/web/packages/raster/index.html" class="external-link">terra
package</a> <span class="citation">(Hijmans 2022)</span> is a package to
process spatial data in raster format.</p></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="additional-software">Additional software<a class="anchor" aria-label="anchor" href="#additional-software"></a>
</h2>
<p>Although not strictly necessary to use <code>mapspamc</code>, We
recommend installing the following additional software:</p>
<ul>
<li><p><a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git" class="external-link">Git</a>
is software to version your code. RStudio and git can be easily linked
to version code.</p></li>
<li><p><a href="https://qgis.org/en/site/" class="external-link">QGIS</a> a free and
open-source cross-platform desktop geographic information system
application that supports viewing, editing, and analysis of geospatial
data. It is convenient to quickly inspect vector and raster
maps.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="hardware">Hardware<a class="anchor" aria-label="anchor" href="#hardware"></a>
</h2>
<p>The dimensions of <code>mapspamc</code> models are determined by the
number of grid cells, administrative regions, crops and farming systems.
Of these four elements, the number of grid cells is the main factor
determining the size of the model although the other dimensions (in
combination with the number of grid cells) also play a role. The total
number of grid cells is related to (1) the cropland extent and, hence,
the size of the country and (2) the resolution of the model, e.g. 5 arc
minutes or 30 arc seconds.</p>
<p>When the model is run at the highest resolution of 30 arc seconds,
the dimensions quickly tend to become very large. Excessively large
models will result in memory problems or very long processing times on a
standard desktop machine. We successfully managed to run 30 arc seconds
single country models for small to medium size African countries, such
as Malawi, Zambia and Kenya on a Windows 10 desktop with 16 gigabyte
memory but we were unable to run the model for Ethiopia, which is a much
larger country. To produce crop distribution maps for large countries,
we provide the possibility to split the data and solve the model for
each level 1 administrative unit separately. The main disadvantage of
this approach is that it is not allowed to have missing crop statistics
(e.g. total area of maize) at the level 1 administrative unit. In
practice, level 1 administrative crop information is not always
available and therefore has to be imputed. We recommend testing models
at a resolution of 5 arc minutes and only proceed with running at 30 arc
seconds resolution if really needed.</p>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Hijmans2022" class="csl-entry">
Hijmans, Robert J. 2022. <span>“<span class="nocase">Terra: Spatial data
analysis</span>.”</span> <a href="https://cran.r-project.org/package=terra" class="external-link">https://cran.r-project.org/package=terra</a>.
</div>
<div id="ref-Pebesma2018" class="csl-entry">
Pebesma, Edzer. 2018. <span>“<span class="nocase">Simple Features for R:
Standardized Support for Spatial Vector Data</span>.”</span> <em>The R
Journal</em> 10 (1): 439. <a href="https://doi.org/10.32614/RJ-2018-009" class="external-link">https://doi.org/10.32614/RJ-2018-009</a>.
</div>
<div id="ref-RCoreTeam2022" class="csl-entry">
R Core Team. 2022. <span>“<span class="nocase">R: A Language and
Environment for Statistical Computing</span>.”</span> R Foundation for
Statistical Computing. <a href="https://www.r-project.org/" class="external-link">https://www.r-project.org/</a>.
</div>
<div id="ref-Wickham2019" class="csl-entry">
Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy
McGowan, Romain François, Garrett Grolemund, et al. 2019. <span>“<span class="nocase">Welcome to the Tidyverse</span>.”</span> <em>Journal of
Open Source Software</em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686" class="external-link">https://doi.org/10.21105/joss.01686</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Michiel Van Dijk.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
